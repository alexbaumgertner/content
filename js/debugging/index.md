---
title: "Как дебажить?"
description: "Как устроена отладка js-программы: console API, browsers dev tools"
authors:
  - alexbaumgertner
keywords:
  - console
  - devtools
  - callstack
  - error
tags:
  - article
---

## Кратко
Отладка программы или "Дебаг" от английского слова [debug](https://ru.wikipedia.org/wiki/Debug) — важнейшее умение разработчика.
Обычно на выявление неисправности и исправление кода тратится значительно больше времени, чем на его написание.
Самый простой дебаг — вывод переменных в консоль с помощью `console.log`. Но и самый неэффективный — если нужно вывести несколько переменных и/или переменные на разных этапах выполнения программы — консоль превращается в сложночитаемый список строк.
В этой статье мы рассмотрим и базовый дебаг с помощью `console.log` и более продвинутые способы — остановка и пошаговое выполнения кода.

## Основы отладки
Ошибки в программе могут быть двух видов – запуск программы завершается ошибкой или программа выдает неверные результаты.

В первом случае достаточно открыть консоль браузера и вы увидите название ошибки и строку кода, подробнее такие ошибки описаны в [Error и стандартные ошибки](/js/errors/)

Во втором случае причина неправильного результата может быть в ошибочном алгоритме, неявном приведении типов, случайном использовании присваивания  `=` вместо сравнения `==`. Такие ошибки сложнее обнаружить, тк программа выполняется, выдает какой-то результат и нужно еще убедиться, что результат неверный.

Отладку значительно ускоряют и облегчают [тесты](/js/how-to-test-and-why/).

### Локализация ошибки
Одна из стратегий поиска ошибки — определить точное место неисправного кода. Так как программа – это набор инструкций, можно разделить ее на части и проверив каждую часть, понять — где закралась ошибка.
Для этого нужно:
- в каждой части программ узнавать текущие значения переменных;
- выяснить, по какому пути выполнялась программа, так как набор инструкций может разветвляться по многим условиям.

### Чтение логов
см. Отладка с помощью консоли
мониторинг приложений в продакшене: TrackJs, sentry.io


## Отладка с помощью консоли
Подавляющее большинство браузеров позволяет выводить данные в панель инструментов разработчика "Console".
Для вывода переменной, функции, класса нужно передать эти данные в фунцию `console.log`, например так:

```js
let name = 'John'

console.log(name)
```

Метод `log` выведет обычное сообщение в devtools. Кроме обычных сообщений можно вывести:
* `console.warn(name)` предупреждение. Текст будет желтого цвета
* `console.error(name)` ошибка. Текст будет красного цвета
 
## Инструменты devtools
Современные инструменты разработчика в браузерах позволяют остановить и пошагово выполнить код  — во вкладке devtools "Oтладка кода".
В Chrome она называется "Sources", а в Firefox — "Debbuger".

В этой вкладке отображается весь загруженный JS код для страницы. Если у сайта включены source maps, то будут доступны исходники сайта для просмотра и выставления точек отстановки кода.

### Оставнока и продолжение выполнения кода
Просто остановка
Остановка по условию

Step over line of code
Step into line of code
Step out of line of code
Run all code up to a certain line


### Слежение за переменными (Watch expressions)

### Вывод переменных текущей области видимости в консоль
Вкладка отладки кода позволяет открыть консоль. В этой консоли будет доступ ко всем переменным текущей области видимости (текущего участка выполнения кода).


